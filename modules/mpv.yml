name: mpv
buildsystem: simple
cleanup:
  - /include
  - /lib/pkgconfig
build-commands:
  - python3 waf configure --enable-libmpv-shared --disable-build-date
    --disable-manpage-build --enable-alsa --enable-pulse --enable-libmpv-shared
  - python3 waf build
  - python3 waf install
sources:
  - type: archive
    url: https://github.com/mpv-player/mpv/archive/v0.34.1.tar.gz
    sha256: 32ded8c13b6398310fa27767378193dc1db6d78b006b70dbcbd3123a1445e746
  - type: file
    url: https://waf.io/waf-2.0.22
    sha256: 0a09ad26a2cfc69fa26ab871cb558165b60374b5a653ff556a0c6aca63a00df1
    dest-filename: waf

  - name: libass
    config-opts:
      - --disable-static
    sources:
      - type: archive
        url: https://github.com/libass/libass/releases/download/0.17.2/libass-0.17.2.tar.gz
        sha256: a9afb52bf76a2569263fe2038896774c991b35c0968342a03be708e56ea60c3b
        x-checker-data:
          type: anitya
          project-id: 1560
          stable-only: true
          url-template: https://github.com/libass/libass/releases/download/$version/libass-$version.tar.gz
